---
version: 0

files:
    # the location files, pid should contain the process id (pid) of the main faucet process (ryu-manager)
    #  should be obtainable with "ps aux |grep faucet.faucet |head -n1 | awk '{print $2}' > /etc/ryu/contr_pid"
    controller_pid: /etc/ryu/contr_pid
    faucet_config: /home/ubuntu/faucet-dev/faucet.yaml
    mac_learning: /home/ubuntu/faucet_mac_learning.txt

urls:
    # HTTP endpoints for HTTPServer.py
    capflow: /v1.1/authenticate/auth
    dot1x: /authenticate/auth
    idle: /idle

servers:
    gateways:
        - gateway:
            mac: 52:54:00:12:35:02
            ip: 10.0.5.2

    captive-portals:
        - captive-portal:
            mac: 08:00:27:00:03:02

    # the 4 servers below are currently unused by any real code,
    #  but are loaded into the python object.
    dot1x-servers:
        - dot1x-server:
            mac: 08:00:27:00:03:02

    dns-servers:
        - dns-server:
            mac: # TODO

    dhcp-servers:
        - dhcp-server:
            mac: # TODO
            ip: # TODO

    wins-servers:
        - wins-server:
            mac: # TODO
            ip: # TODO


captive-portal:
    # number of retransmission attemps of 802.1X before allowing captive portal fallback
    retransmission-attempts: 3

# rules to be applied for a user once authenticated.
#  THIS IS NOT ACTUALLY USED AT THIS TIME.
auth-rules:
    file: /home/ubuntu/faucet-dev/rules.yaml
    # group
    student:
        - rule:
            name: block-8.8.8.8
            dl_src: $MAC$
            dl_type: 0x0800
            nw_dst: 8.8.8.8
            actions:
                allow: 0
        - rule:
            name: allow-all
            dl_src: $MAC$
            dl_type: 0x0800
            actions:
                allow: 1

    # TODO may want to have rules specified in another file(s)

            
